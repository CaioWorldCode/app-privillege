{"version":3,"sources":["views/home/index.js","components/html-head/HtmlHead.js","components/breadcrumb-list/BreadcrumbList.js","services/api.js"],"names":["DashboardsAnalytic","title","useState","contract","setContract","modalContract","setModalContract","useEffect","getPendingContracts","a","api","get","response","data","length","map","row","regulation","submitContract","post","c_id","Swal","fire","text","message","icon","confirmButtonText","then","result","setTimeout","description","className","md","items","to","sm","xs","lg","Body","size","variant","type","onClick","show","centered","onHide","style","margin","padding","border","whiteSpace","width","display","wordBreak","dangerouslySetInnerHTML","__html","content","HtmlHead","children","name","BreadcrumbList","basePath","DEFAULT_PATHS","APP","breadcrumb","bIndex","Item","linkAs","Link","linkProps","axios","create","baseURL","API_URL","JSON","parse","localStorage","getItem","auth","interceptors","request","use","config","currentUser","token","headers","Authorization","error","window","location","href","APP_URL"],"mappings":"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","file":"static/js/21.0b23f6c1.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Row, Col, Card, Dropdown, Badge, Modal } from 'react-bootstrap';\nimport HtmlHead from 'components/html-head/HtmlHead';\nimport BreadcrumbList from 'components/breadcrumb-list/BreadcrumbList';\nimport api from 'services/api';\nimport CsLineIcons from 'cs-line-icons/CsLineIcons';\nimport Swal from 'sweetalert2';\n\n\nconst DashboardsAnalytic = () => {\n    const title = 'Home';\n    const description = 'Home';\n\n    const breadcrumbs = [\n        { to: '', text: 'Home' },\n        { to: 'dashboards', text: 'Contratos' },\n    ]\n\n    const [data, setData] = useState(false)\n    const [contract, setContract] = useState(false)\n    const [modalContract, setModalContract] = useState(false)\n\n    useEffect(() => {\n\n        getPendingContracts()\n\n    }, [])\n\n\n\n    const getPendingContracts = async () => {\n        try {\n            const response = await api.get(`/api/v1/private/contract_signature/pending`)\n\n\n            if (response.data.length > 0) {\n                response.data.map((row) => {\n                    if (row.regulation === null) {\n                        setContract(row)\n                        return\n                    }\n                })\n            }\n\n        } catch (error) {\n\n        }\n    }\n\n    const submitContract = async () => {\n        try {\n            const response = await api.post(`/api/v1/private/contract_signature/store/${contract.c_id}`, {\n                'regulation': true\n            })\n\n            Swal.fire({\n                title: response.data.title,\n                text: response.data.message,\n                icon: 'success',\n                confirmButtonText: 'Fechar'\n            }).then((result) => {\n                setTimeout(() => {\n                    setContract(false)\n                    getPendingContracts()\n                    setModalContract(false)\n                }, 1000)\n            })\n\n        } catch (error) {\n            Swal.fire({\n                title: error.response.data.title,\n                text: error.response.data.message,\n                icon: 'error',\n                confirmButtonText: 'Fechar'\n            })\n        }\n    }\n\n    return (\n        <>\n            <HtmlHead title={title} description={description} />\n            {/* Title and Top Buttons Start */}\n            <div className=\"page-title-container\">\n                <Row>\n                    {/* Title Start */}\n                    <Col md=\"7\">\n                        <h1 className=\"mb-0 pb-0 display-4\">{title}</h1>\n                        <BreadcrumbList items={breadcrumbs} />\n                    </Col>\n                    {/* Title End */}\n                </Row>\n            </div>\n            {/* Title and Top Buttons End */}\n\n\n            {contract\n                ? <>\n                    <Row>\n                        <Col sm={12} xs={12} lg={12} md={12} >\n                            <Card>\n                                <Card.Body >\n                                    <div className='d-flex justify-content-center align-items-center'>\n                                        <CsLineIcons icon=\"file-text\" className=\"text-primary\" size={50} />\n                                    </div>\n\n\n                                    <div className='d-flex justify-content-center align-items-center mt-4'>\n                                        <h2 className=\" mb-0 text-primary text-center\">\n                                            Você possui um contrato pendente\n                                        </h2>\n                                    </div>\n\n                                    <p className=\"text-medium mb-0 text-muted text-white mt-4 text-center\">\n                                        Temos um contrato pendente da sua assinatura, clique no botão abaixo para visualizar e assinar o contrato.\n                                    </p>\n\n                                    <div className='d-flex justify-content-center align-items-center mt-4'>\n                                        <Button\n                                            variant=\"primary\"\n                                            type=\"submit\"\n                                            onClick={() => setModalContract(true)}\n                                        >\n                                            Assinar contrato\n                                        </Button>\n                                    </div>\n\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                    </Row>\n                </>\n                : <>\n                    <Row>\n                        <Col sm={12} xs={12} lg={12} md={12} >\n                            <Card>\n                                <Card.Body >\n                                    <div className='d-flex justify-content-center align-items-center'>\n                                        <CsLineIcons icon=\"info-hexagon\" className=\"text-warning\" size={50} />\n                                    </div>\n\n\n                                    <div className='d-flex justify-content-center align-items-center mt-4'>\n                                        <h2 className=\" mb-0 text-warning text-center\">\n                                            Nenhum contrato pendente\n                                        </h2>\n                                    </div>\n\n                                    <p className=\"text-medium mb-0 text-muted text-white mt-4 text-center\">\n                                        Não localizamos nenhum contrato pendente no momento, caso queira visualizar o  histórico de assinaturas acesso no menu <br /> <b>\"Minhas Assinaturas\" </b>\n                                    </p>\n\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                    </Row>\n                </>\n\n            }\n\n\n\n            <Modal\n                show={modalContract}\n                size='lg'\n                centered\n                onHide={() => setModalContract(false)}\n            >\n                <Modal.Body>\n                    <Row>\n                        <Col xs={10}>\n                            &nbsp;\n                        </Col>\n                        <Col xs={2}>\n                            <div className='d-flex justify-content-end cursor-pointer' onClick={() => setModalContract(false)}>\n                                <CsLineIcons icon=\"close\" className=\"text-primary\" size={20} />\n                            </div>\n                        </Col>\n                    </Row>\n\n                    <Col xs={12} className=\"mt-4\">\n                        <span className='text-primary'><b>Título:</b> </span> {contract.title}\n                    </Col>\n\n                    <Col xs={12} className=\"mt-4\">\n                        <span className='text-primary'><b>Descrição:</b> </span> {contract.description}\n                    </Col>\n\n                    <Col xs={12} className=\"mt-4\">\n                        <span className='text-primary'><b>Contrato:</b> </span>\n\n\n                        <div style={{ margin: 5, padding: 5, border: '1px solid #ccc', whiteSpace: 'nowrap', width: '100%', display: 'inline-block', wordBreak: 'break-all' }}>\n                            <div\n                                className='box-contract'\n                                dangerouslySetInnerHTML={{ __html: contract.content }}\n                            />\n                        </div>\n                    </Col>\n\n\n                    <p className=\"h6 text-white mt-4 mb-4\">\n                        Ao clicar em <b> \"Assinar contrato\" </b> declaro que li e concordo com os termos descritos acima.\n                    </p>\n\n                    <div className='d-flex justify-content-center align-items-center mt-4'>\n                        <Button\n                            variant=\"success\"\n                            type=\"submit\"\n                            onClick={() => submitContract()}\n                        >\n                            Assinar contrato\n                        </Button>\n                    </div>\n\n                </Modal.Body>\n            </Modal>\n        </>\n    );\n};\n\nexport default DashboardsAnalytic;\n","import { Helmet } from 'react-helmet';\nimport React from 'react';\n\nconst HtmlHead = ({ title = '', description = '', children = null }) => {\n  return (\n    <Helmet>\n      {title && <title>{title}</title>}\n      {description && <meta name=\"description\" content={description} />}\n      {children && children}\n    </Helmet>\n  );\n};\nexport default HtmlHead;\n","import React from 'react';\nimport { Breadcrumb } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { DEFAULT_PATHS } from 'config.js';\n\nconst BreadcrumbList = ({ items = [{ to: '/', text: 'Home' }], basePath = DEFAULT_PATHS.APP }) => {\n  return (\n    <Breadcrumb className=\"breadcrumb-container d-inline-block\">\n      {items.map((breadcrumb, bIndex) => (\n        <Breadcrumb.Item key={`breadCrumb.${bIndex}`} linkAs={Link} linkProps={{ to: `${basePath}${breadcrumb.to}` }}>\n          {breadcrumb.title || breadcrumb.text}\n        </Breadcrumb.Item>\n      ))}\n    </Breadcrumb>\n  );\n};\nexport default BreadcrumbList;\n","import axios from \"axios\";\nimport { APP_URL } from \"config\";\nimport { API_URL } from \"config\";\n\nconst api = axios.create({\n    baseURL: API_URL\n})\n\n\nlet data = JSON.parse(localStorage.getItem('persist:app-privillege'))\ndata = JSON.parse(data.auth)\n\n\napi.interceptors.request.use(async config => {\n\n    if (data.currentUser.token) {\n        config.headers.Authorization = `Bearer ${data.currentUser.token}`\n    }\n\n    return config\n})\n\napi.interceptors.response.use(\n    response => response,\n    error => {\n        if (error.response.data.error === 'Unauthenticated.') {\n            window.location.href= `${APP_URL}/login`\n        }\n    })\n\nexport default api"],"sourceRoot":""}